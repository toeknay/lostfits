services:
  caddy:
    ports:
      - "8080:80"   # use http://localhost:8080 in dev
      - "8443:443"
    volumes:
      - ./Caddyfile.dev:/etc/caddy/Caddyfile:ro

  # Optional convenience: expose DB/Redis to host tools in dev
  db:
    ports:
      - "5433:5432"   # psql postgresql://lostfits:lostfits@localhost:5433/lostfits

  redis:
    ports:
      - "6380:6379"   # redis-cli -u redis://localhost:6380/0

  rq-dashboard:
    ports:
      - "9181:9181"
